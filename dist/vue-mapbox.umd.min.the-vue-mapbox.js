(("undefined"!==typeof self?self:this)["webpackJsonpvue_mapbox"]=("undefined"!==typeof self?self:this)["webpackJsonpvue_mapbox"]||[]).push([[1],{"4b19":function(e,t,a){},bc10:function(e,t,a){"use strict";var o=a("4b19"),i=a.n(o);i.a},ccd4:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vue-mapbox",style:{position:"relative",width:e.myWidth,height:e.myHeight}},[a("div",{ref:"mapabaselayer",staticClass:"map-layer mapbox-map-container",attrs:{id:"mapaBaseLayer"}},[e.mapLoaded?a("div",[e._t("default")],2):e._e(),e.showLoader&&!e.mapLoaded?a("div",{staticClass:"loader"},[e._t("loader")],2):e._e(),e.devMode?a("div",{staticStyle:{position:"absolute",bottom:"0","font-size":"9px",padding:"0.4em","z-index":"10",background:"#00000066",color:"white"}},[e._v(e._s(e.camera))]):e._e()])])},i=[],n=(a("4160"),a("caad"),a("c975"),a("e260"),a("d81d"),a("4ec9"),a("a9e3"),a("4fad"),a("d3b7"),a("e6cf"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("5530")),s=(a("96cf"),a("1da1")),r=(a("ac6d"),a("9f3c"),a("9b02")),d=a.n(r),m=a("93c6"),c=a.n(m),u=a("b047c"),h=a.n(u),p=a("98dc"),l=a.n(p),f=["click","dblclick","mouseenter","mouseleave","mouseout","mousedown","mouseup","contextmenu","wheel","touchstart","touchend","touchmove","touchcancel","movestart","move","moveend","dragstart","drag","dragend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","pitchstart","pitch","pitchend","boxzoomstart","boxzoomend","boxzoomcancel","webglcontextlost","webglcontextrestored","load","render","idle","error","data","styledata","sourcedata","dataloading","styledataloading","sourcedataloading","styleimagemissing"],y={name:"VueMapbox",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},showLoader:{type:Boolean,default:!0},accessToken:{type:String,default:""},mapStyle:{type:[String,Object],default:"mapbox://styles/mapbox/outdoors-v11"},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:24},zoom:{type:Number,default:4},center:{type:Array,default:function(){return[-53.048889,-14.951209500045001]}},hash:{type:[Boolean,String],default:!1},bounds:{type:Array,default:void 0},maxBounds:{type:Array,default:void 0},padding:{type:[Object,Number],default:0},otherOptions:{type:Object,default:function(){return{}}},images:{type:Object,default:function(){return{}}},devMode:{type:Boolean,default:!1}},provide:function(){var e=this;return{getMap:function(){return e.map},mapLoaded:this.mapLoaded,mapboxgl:function(){return e.mapboxgl},MapboxVueInstance:this}},data:function(){return{mapLoaded:!1,map:null,sources:null,layers:null,camera:""}},beforeCreate:function(){},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.mapboxgl){t.next=5;break}return t.next=3,a.e(2).then(a.t.bind(null,"e192",7));case 3:o=t.sent,window.mapboxgl=o.default||o;case 5:e.mapboxgl=window.mapboxgl,window.mapboxgl.prewarm(),e.sources=new Map,e.layers=new Map,e.layersGroups=new Map,e.eventsOnMap=new Map,e.$nextTick((function(){e.createMap()}));case 12:case"end":return t.stop()}}),t)})))()},computed:{myHeight:function(){var e=this.height;return"number"===typeof e&&(e+="px"),e},myWidth:function(){var e=this.width;return"number"===typeof e&&(e+="px"),e}},watch:{bounds:function(e){this.map.fitBounds(e,{padding:this.padding})},maxBounds:function(e){this.map&&this.map.setMaxBounds(e)}},beforeUpdated:function(){console.log("beforeUpdated dom vueMapbox")},mounted:function(){console.log("Mounted - Mounted dom vueMapbox")},updated:function(){var e=this;console.log("Updated - updated dom vueMapbox"),this.$nextTick((function(){e.updateLayerOrder()}))},beforeDestroy:function(){this.map&&this.map.remove()},methods:{createMap:function(){var e=this;window.mapboxgl.prewarm(),""!==this.accessToken?window.mapboxgl.accessToken=this.accessToken:window.mapboxgl.accessToken="pk.eyJ1IjoibGVjZWxlcyIsImEiOiJjajUyZXBzbXEwZjYxMnFwOWFxeHd5ZDY3In0.dftZ4LdgXBkdZI0_l7pcNA",this.map=new window.mapboxgl.Map(Object(n["a"])({},this.otherOptions,{container:this.$refs.mapabaselayer,refreshExpiredTiles:!1,antialias:!0,style:this.mapStyle,center:this.center,zoom:this.zoom,hash:this.hash,bounds:this.bounds,maxBounds:this.maxBounds})),this.addPropsImages(),this.setupEvents(this.$listeners,this.map,f),this.map.on("load",(function(){var t=e;e.$emit("load",t,e.map),e.mapLoaded=!0})),this.devMode&&this.map.on("moveend",(function(){e.camera=e.map.getZoom()}))},getMap:function(){return this.map},setupEvents:function(e,t,a,o){var i=this;e&&Object.entries(e).forEach((function(e){var n=e[0],s=e[1],r=function(e){s(e,i.map,i)},d=!1;0===n.indexOf("~")&&(d=!0,n=n.substring(1)),a.includes(n)&&(d?o?t.once(n,o,r):t.once(n,r):o?t.on(n,o,r):t.on(n,r))}))},addSource:function(e,t,a){this.map.getSource(e)&&(e=l()(e+t)),this.map.addSource(e,Object(n["a"])({type:t},a));var o=this.map.getSource(e);return this.sources.set(e,{id:e,type:t,options:a,instance:o}),this.sources.get(e)},removeSource:function(e){},updateSource:function(e,t,a){var o=this;this.sources.has(e)&&this.sources.delete(e);var i=this.map.getStyle().layers;i.forEach((function(t){t.source===e&&o.map.removeLayer(t.id)})),this.map.removeSource(e);var n=this.addSource(e,t,a);return i.forEach((function(t,a){if(t.source===e){var n=null===i||void 0===i?void 0:i[a-1];n?o.map.addLayer(t,n.id):o.map.addLayer(t)}})),n},getNewIdForLayer:function(e){var t=e;return this.map.getLayer(e)||(t=l()("layer"+e)),t},addLayerTemp:function(e){this.map.addLayer(e)},addLayer:function(e,t){var a=this,o=e.id;this.map.addLayer(e);this.map.getLayer(e.id);return this.layers.set(o,{id:o}),this.$nextTick((function(){return a.updateLayerOrder()})),this.map.once("idle",(function(){console.log("A styledata event occurred."),a.$nextTick((function(){return a.updateLayerOrder()}))})),o},updateLayerOrder:h()((function(){console.log("UPDATE LAYER ORDER ==============================================================================");var e=function e(t,a){if(a=a||[],Array.isArray(t))return t.forEach((function(t){e(t,a)})),a;var o;o=d()(t,"componentInstance")?d()(t,"componentInstance"):t,"VmLayer"===d()(o,"$options.name",d()(o,"componentOptions.Ctor.options.name"))&&a.push(o);var i=d()(o,"$children");return Array.isArray(i)&&i.forEach((function(t){e(t,a)})),a},t=e(this.$slots.default);if(t&&1!==t.length){var a=t.map((function(e,t){var a=e.componentInstance||e,o=d()(a,"$data.layerId"),i=d()(a,"$props.zIndex"),n=t;return i&&(n=parseInt(i)+n/10),{id:o,index:n}}));a=c()(a,["index"],["asc"]);this.map.getStyle().layers;for(var o=a.length;o>1;o--){var i=a[o-1].id;if(this.map.getLayer(i))if(o===a.length)this.map.moveLayer(i);else{var n=a[o].id;if(!this.map.getLayer(n))continue;this.map.moveLayer(i,n)}}}}),400),moveLayer:function(e,t){},addPropsImages:function(e){var t=this;this.map&&(e=e||this.images,Object.entries(e).forEach((function(e){var a=e[0],o=e[1];t.addImage(a,o)})))},addImage:function(e,t){var a=this;this.map&&this.map.loadImage(t,(function(t,o){t&&console.error(t),a.map.hasImage(e)||a.map.addImage(e,o)}))},removeLayer:function(e){var t=this;this.map&&(this.layers.has(e)&&this.layers.delete(e),this.map.getLayer(e)&&this.map.removeLayer(e),this.$nextTick((function(){return t.updateLayerOrder()})))},docEvents:function(){this.$emit("click"),this.$emit("dblclick"),this.$emit("mouseenter"),this.$emit("mouseleave"),this.$emit("mouseout"),this.$emit("contextmenu"),this.$emit("wheel"),this.$emit("touchstart"),this.$emit("touchend"),this.$emit("touchmove"),this.$emit("touchcancel"),this.$emit("movestart"),this.$emit("move"),this.$emit("moveend"),this.$emit("dragstart"),this.$emit("drag"),this.$emit("dragend"),this.$emit("zoomstart"),this.$emit("zoom"),this.$emit("zoomend"),this.$emit("rotatestart"),this.$emit("rotate"),this.$emit("rotateend"),this.$emit("pitchstart"),this.$emit("pitch"),this.$emit("pitchend"),this.$emit("boxzoomstart"),this.$emit("boxzoomend"),this.$emit("boxzoomcancel"),this.$emit("webglcontextlost"),this.$emit("webglcontextrestored"),this.$emit("load"),this.$emit("render"),this.$emit("idle"),this.$emit("error"),this.$emit("data"),this.$emit("styledata"),this.$emit("sourcedata"),this.$emit("dataloading"),this.$emit("styledataloading"),this.$emit("sourcedataloading"),this.$emit("styleimagemissing")}}},b=y,g=(a("bc10"),a("2877")),v=Object(g["a"])(b,o,i,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=vue-mapbox.umd.min.the-vue-mapbox.js.map